org 100h

[map all pacman.map]

%define EXT_ANGLE_TL 0
%define EXT_ANGLE_TR 1
%define EXT_BORDER_STRAIT_TOP 2
%define EXT_BORDER_STRAIT_DOWN 3
%define TRIANGLE_RIGHT 4
%define EXT_BORDER_SQUARE_TR 5
%define EXT_BORDER_SQUARE_TL 6
%define EXT_BORDER_CIRCLE_TR 7
%define EXT_BORDER_CIRCLE_TL 8
%define INT_GHOST_SPAWN_TL 9
%define INT_GHOST_SPAWN_STRAIT_TOP 10
%define INT_GHOST_SPAWN_TR 11
%define EXT_ANGLE_BL 12
%define EXT_ANGLE_BR 13
%define EXT_BORDER_STRAIT_LEFT 14
%define EXT_BORDER_STRAIT_RIGHT 15
%define TRIANGLE_LEFT 16
%define EXT_BORDER_SQUARE_BL 17
%define EXT_BORDER_SQUARE_BR 18
%define EXT_BORDER_CIRCLE_BL 19
%define EXT_BORDER_CIRCLE_BR 20
%define INT_GHOST_SPAWN_BL 21
%define INT_GHOST_SPAWN_STRAIT_BOTTOM 22
%define INT_GHOST_SPAWN_BR 23
%define INT_BIG_RECTANGLE_TL 24
%define INT_BIG_RECTANGLE_MIDDLE 25
%define INT_BIG_RECTANGLE_BL 26
%define INT_SLIM_LEFT 27
%define INT_SLIM_HORI_MIDDLE 28
%define INT_SLIM_RIGHT 29
%define INT_ANGLE_TL 30
%define INT_ANGLE_TR 31
%define INT_BIG_TL 32
%define INT_BIG_TR 33
%define INT_GHOST_OUT_LEFT 34
%define INT_GHOST_OUT_RIGHT 35
%define INT_BIG_RECTANGLE_TR 36
%define INT_BIG_RECTANGLE_LEFT 37
%define INT_BIG_RECTANGLE_BR 38
%define INT_SLIM_UP 39
%define INT_SLIM_VERTI_RIGHT 40
%define INT_SLIM_DOWN 41
%define INT_ANGLE_BL 42
%define INT_ANGLE_BR 43
%define INT_BIG_BL 44
%define INT_BIG_BR 45
%define INT_BIG_LEFT 46
%define INT_BIG_RIGHT 47
%define INT_TRIANGLE_UP 48
%define EMPTY 49

%define SCREEN_WIDTH 320
%define SCREEN_HEIGHT 200


%define SPRITEW 8
%define SPRITEH 8
section .data

xPos dw 0
xVelocity dw 1
yPos dw 0

mazePoseX dw 72
mazePoseY dw 12

spritew dw 8

spriteh dw 8

old_XPOS dw 0

old_YPOS dw 0

currentSprite dd pacman_right_1
actualKeystroke dw 4Dh

ext_angle_tl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00

ext_angle_tr    db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

ext_border_strait_top   db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
ext_border_strait_down  db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00

triangle_right  db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0x00, 0x00, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00

ext_border_square_tl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00

ext_border_square_tr    db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

ext_border_circle_tl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00

ext_border_circle_tr    db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_ghost_spawn_tl      db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00

int_ghost_spawn_strait_top      db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                                db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                                db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                                db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                                db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                                db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                                db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                                db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00

int_ghost_spawn_tr      db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

;--------
ext_angle_bl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0x00, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00

ext_angle_br    db 0x00, 0xaa, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0x00, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

ext_border_strait_left  db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

ext_border_strait_right db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

triangle_left   db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0x00, 0x00, 0xaa
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

ext_border_square_bl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00

ext_border_square_br    db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

ext_border_circle_bl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00

ext_border_circle_br    db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_ghost_spawn_bl      db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00

int_ghost_spawn_strait_bottom   db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00

int_ghost_spawn_br      db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_big_rectangle_tl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa

int_big_rectangle_left          db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa

int_big_rectangle_bl    db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_slim_left   db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00

int_slim_hori_middle    db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00

int_slim_right          db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_angle_tl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0x00, 0xaa

int_angle_tr    db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0x00, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_big_tl      db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0x00, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa

int_big_tr      db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0x00, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00

int_ghost_out_left      db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_ghost_out_right     db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0x00, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00

int_big_rectangle_tr    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00

int_big_rectangle_right        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00

int_big_rectangle_br    db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0xaa, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_slim_up     db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_slim_verti_middle   db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                        db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                        db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_slim_down   db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_angle_bl    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00

int_angle_br    db 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_big_bl      db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00

int_big_br      db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_big_left    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa

int_big_right   db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0xaa
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

int_triangle_up  db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0xaa, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0x00, 0xaa, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0xaa, 0x00, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00
                db 0x00, 0xaa, 0x00, 0xaa, 0xaa, 0x00, 0xaa, 0x00

empty            db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
                db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

mazeSprite      db "0,2,2,2,2,2,2,2,2,2,1,0,2,2,2,2,2,2,2,2,2,1", 0
                db "14,49,49,49,49,49,49,49,49,49,14,15,49,49,49,49,49,49,49,49,49,15", 0
                db "14,49,24,25,26,49,24,25,26,49,14,15,49,24,25,26,49,24,25,26,49,15", 0
                db "14,49,36,37,38,49,36,37,38,49,12,13,49,36,37,38,49,36,37,38,49,15", 0
                db "14,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,15", 0
                db "14,49,27,28,29,49,39,49,27,28,32,33,28,29,49,39,49,27,28,29,49,15", 0
                db "14,49,49,49,49,49,40,49,49,49,46,47,49,49,49,40,49,49,49,49,49,15", 0
                db "12,3,3,3,?,49,4,28,29,49,44,45,49,27,28,16,49,?,3,3,3,13", 0
                db "49,49,49,49,14,49,40,49,49,49,49,49,49,49,49,40,49,15,49,49,49,49", 0
                db "2,2,2,2,18,49,41,49,9,10,34,35,10,11,49,41,49,17,2,2,2,2", 0
                db "49,49,49,49,49,49,49,49,15,49,49,49,49,14,49,49,49,49,49,49,49,49", 0
                db "3,3,3,3,6,49,39,49,21,22,22,22,22,23,49,39,49,5,3,3,3,3", 0
                db "49,49,49,49,14,49,40,49,49,49,49,49,49,49,49,40,49,15,49,49,49,49", 0
                db "0,2,2,2,18,49,41,49,27,28,32,33,28,29,49,41,49,17,2,2,2,1", 0
                db "14,49,49,49,49,49,49,49,49,49,46,47,49,49,49,49,49,49,49,49,49,15", 0
                db "14,49,27,28,31,49,27,28,29,49,44,45,49,27,28,29,49,30,28,29,49,15", 0
                db "14,49,49,49,40,49,49,49,49,49,49,49,49,49,49,49,49,40,49,49,49,15", 0
                db "4,28,29,49,41,49,39,49,27,28,32,33,28,29,49,39,49,41,49,27,28,16", 0
                db "14,49,49,49,49,49,40,49,49,49,46,47,49,49,49,40,49,49,49,49,49,15", 0
                db "14,49,27,28,28,28,48,28,29,49,44,45,49,27,28,48,28,28,28,29,49,15", 0
                db "14,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,15", 0
                db "12,3,3,3,3,3,3,3,3,3,1,0,3,3,3,3,3,3,3,3,3,13", 0

pacman_right_1  db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0x0E, 0x0E, 0xFF, 0x0E, 0x0E, 0x0E, 0x04, 0xFF
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF, 0xFF
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF, 0xFF
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
                db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
                db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E

pacman_right_2  db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
                db 0x0E, 0x0E, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0x04, 0x04, 0x04
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF

pacman_right_3  db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
                db 0x0E, 0x0E, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF

pacman_left_1  db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
               db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
               db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0xFF, 0x0E, 0x0E
               db 0xFF, 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
               db 0xFF, 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
               db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
               db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
               db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF

pacman_left_2   db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x04, 0x04, 0x04, 0x04, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF

pacman_left_3   db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF

pacman_down_1  db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
               db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
               db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0x0E, 0x0E
               db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
               db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
               db 0x0E, 0x0E, 0x0E, 0xFF, 0x04, 0x0E, 0x0E, 0x0E
               db 0x0E, 0x0E, 0xFF, 0xFF, 0xFF, 0x04, 0x0E, 0x0E
               db 0x0E, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x04, 0x0E

pacman_down_2   db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
                db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x04, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x04, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x04, 0x0E, 0x0E, 0x04, 0x0E, 0x0E, 0x0E, 0xFF
                db 0xFF, 0x04, 0x0E, 0x04, 0x0E, 0x0E, 0xFF, 0xFF

pacman_down_3   db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF
                db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF
                db 0xFF, 0x04, 0x0E, 0x0E, 0x0E, 0x0E, 0xFF, 0xFF

pacman_up_1     db 0x0E, 0x04, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x0E
                db 0x0E, 0x0E, 0x04, 0xFF, 0xFF, 0xFF, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x04, 0xFF, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF

pacman_up_2     db 0xFF, 0xFF, 0x0E, 0x0E, 0x04, 0x0E, 0x04, 0xFF
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x04, 0x0E, 0x0E, 0x04
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF
                
pacman_up_3     db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0x0E, 0x0E, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E
                db 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x0E, 0x04
                db 0xFF, 0xFF, 0x0E, 0x0E, 0x0E, 0x0E, 0x04, 0xFF

section .bss
keyPressed resb 1  ; Réserve un byte pour l'état de la touche
section .text
start:
    ; Initialisation du mode vidéo
    mov ah, 00h
    mov al, 13h
    int 10h
    ; Boucle principale du jeu
    mov si, [currentSprite]
    
    gameloop:
    call clearSprite  ; Clear the old sprite before drawing a new one
    call draw_sprite
    call read_character_key_was_pressed

    ; Delay to slow down the animation
    mov cx, 64000
    waitloop:
        loop waitloop
    jmp gameloop
    ; Fin du jeu, retour au mode texte
    mov ax, 03h
    int 10h
    mov ax, 4C00h
    int 21h


clearScreen:
    mov bx, 0xA000
    mov es, bx
    mov di, 0
    mov cx, 200*320
    rep stosb
    ret 
    
; Fonction pour lire la touche pressée
read_character_key_was_pressed:
    mov ah, 01h        ; Check if a key has been pressed (non-blocking)
    int 16h
    jz continue_movement ; If no key pressed, continue current movement

    ; Read the keystroke
    mov ah, 00h
    int 16h
    mov [actualKeystroke], ah  ; Store the new direction

clearSprite:
    ; Set up the graphics segment
    mov ax, 0A000h
    mov es, ax

    ; Calculate the screen offset for the old position of the sprite
    mov ax, [old_YPOS]     ; Get the old Y position
    imul ax, 320           ; Multiply Y position by screen width to get the offset
    add ax, [old_XPOS]     ; Add the old X position to the offset
    mov di, ax             ; DI = starting address for erasure

    ; Define the height and width of the sprite
    mov cx, SPRITEH        ; Sprite height
.clear_line:
    push cx                ; Save CX as it is modified by the loop
    mov cx, SPRITEW        ; Sprite width for a single line
    mov al, 0              ; Background color (usually black for Pac-Man)
    rep stosb              ; Clear pixels with background color
    pop cx                 ; Restore CX for the next line
    add di, 320 - SPRITEW  ; Adjust DI to the start of the next line
    loop .clear_line       ; Repeat for each line of the sprite
    ret

move_right:
    mov word [actualKeystroke], 4Dh
    call pacman_Right
    mov bx, [xPos]
    add bx, 3/2
    cmp bx, SCREEN_WIDTH - SPRITEW 
    jae .skip_move_right
    mov [xPos], bx
.skip_move_right:
    ret
move_left:
    mov word [actualKeystroke], 4Bh
    call pacman_Left
    mov bx, [xPos]
    sub bx, 3/2
    cmp bx, 0
    jbe .skip_move_left
    mov [xPos], bx
.skip_move_left:
    ret

move_up:
    mov word [actualKeystroke], 48h
    call pacman_Up
    mov bx, [yPos]
    sub bx, 3/2
    cmp bx, 0
    jbe .skip_move_up
    mov [yPos], bx
.skip_move_up:
    ret

move_down:
    mov word [actualKeystroke], 50h
    call pacman_Down
    mov bx, [yPos]
    add bx, 3/2
    cmp bx, SCREEN_HEIGHT - SPRITEH 
    jae .skip_move_down
    mov [yPos], bx
.skip_move_down:
    ret

continue_movement:
    mov al, [actualKeystroke]
    cmp al, 4Dh
    je .move_right
    cmp al, 4Bh
    je .move_left
    cmp al, 48h
    je .move_up
    cmp al, 50h
    je .move_down
    ret
    .move_right:
        call move_right
        ret
    .move_left:
        call move_left
        ret
    .move_up:
        call move_up
        ret
    .move_down:
        call move_down
        ret
    ret

pacman_Right:
    cmp word [currentSprite], pacman_right_1
    je .pacmanRightSemiOpen
    cmp word [currentSprite], pacman_right_3
    je .pacmanRightOpen
    cmp word [currentSprite], pacman_right_2
    je .pacmanRightClose

    .pacmanRightOpen:
       mov word [currentSprite], pacman_right_1
       mov si, [currentSprite]
       ret
    .pacmanRightSemiOpen:
        mov word [currentSprite], pacman_right_2
        mov si, [currentSprite]
        ret
    .pacmanRightClose:
        mov word [currentSprite], pacman_right_3
        mov si, [currentSprite]
        ret

    pacman_Left:
    cmp word [currentSprite], pacman_left_1
    je .pacmanLeftSemiOpen
    cmp word [currentSprite], pacman_left_2
    je .pacmanLeftClose
    cmp word [currentSprite], pacman_left_3
    je .pacmanLeftOpen

    .pacmanLeftOpen:
       mov word [currentSprite], pacman_left_1
       mov si, [currentSprite]
       ret
    .pacmanLeftSemiOpen:
        mov word [currentSprite], pacman_left_2
        mov si, [currentSprite]
        ret
    .pacmanLeftClose:
        mov word [currentSprite], pacman_left_3
        mov si, [currentSprite]
        ret

    pacman_Up:
    cmp word [currentSprite], pacman_up_1
    je .pacmanUpSemiOpen
    cmp word [currentSprite], pacman_up_2
    je .pacmanUpClose
    cmp word [currentSprite], pacman_up_3
    je .pacmanUpOpen

    .pacmanUpOpen:
       mov word [currentSprite], pacman_up_1
       mov si, [currentSprite]
       ret
    .pacmanUpSemiOpen:
        mov word [currentSprite], pacman_up_2
        mov si, [currentSprite]
        ret
    .pacmanUpClose:
        mov word [currentSprite], pacman_up_3
        mov si, [currentSprite]
        ret
    
    pacman_Down:
    cmp word [currentSprite], pacman_down_1
    je .pacmanDownSemiOpen
    cmp word [currentSprite], pacman_down_2
    je .pacmanDownClose
    cmp word [currentSprite], pacman_down_3
    je .pacmanDownOpen

    .pacmanDownOpen:
       mov word [currentSprite], pacman_down_1
       mov si, [currentSprite]
       ret
    .pacmanDownSemiOpen:
        mov word [currentSprite], pacman_down_2
        mov si, [currentSprite]
        ret
    .pacmanDownClose:
        mov word [currentSprite], pacman_down_3
        mov si, [currentSprite]
        ret

; Fonction pour effacer l'écran
draw_sprite:
    ; Avant de dessiner le sprite, sauvegardez la position actuelle
    mov ax, [xPos]
    mov [old_XPOS], ax  ; Sauvegarde l'ancienne position X
    mov ax, [yPos]
    mov [old_YPOS], ax  ; Sauvegarde l'ancienne position Y
    ; Réinitialise le segment graphique
    mov ax, 0A000h
    mov es, ax
    ; Calcule l'adresse à l'écran où le sprite sera dessiné
    mov ax, [yPos]
    imul ax, 320       ; Multiplie yPos par la largeur de l'écran pour obtenir l'offset
    add ax, [xPos]     ; Ajoute xPos à l'offset
    mov di, ax         ; DI = adresse de départ pour le dessin
    ; Obtient l'adresse du sprite à dessiner
    ; Définit la hauteur du sprite
    mov cx, SPRITEH
.draw_line:
    ; Sauvegarde CX car il est modifié par REP MOVSB
    push cx
    ; Définit la largeur du sprite pour la ligne actuelle
    mov cx, SPRITEW
    rep movsb  ; Dessine la ligne du sprite à l'écran
    ; Restaure CX pour la prochaine ligne
    pop cx
    ; Ajuste DI pour la ligne suivante en prenant en compte l'offset de la largeur de l'écran
    add di, 320 - SPRITEW
    loop .draw_line  ; Répète le dessin pour chaque ligne du sprite
    ret
